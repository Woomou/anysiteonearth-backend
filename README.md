# Ultra-High Resolution Earth Engine API

åŸºäºGoogle Earth Engineçš„è¶…é«˜åˆ†è¾¨ç‡å«æ˜Ÿå½±åƒè·å–å·¥å…·ï¼Œæ”¯æŒäºšç±³çº§ç²¾åº¦çš„è¡—åŒºå’Œå»ºç­‘çº§åˆ«è¯¦ç»†åˆ†æã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### åˆ†è¾¨ç‡æ¨¡å¼å¯¹æ¯”

| æ¨¡å¼ | åˆ†è¾¨ç‡ | é€‚ç”¨åœºæ™¯ | ç¼“å†²åŒº | ç“¦ç‰‡ç¼©æ”¾ |
|------|--------|----------|--------|----------|
| **standard** | 10-30m | åŸå¸‚çº§åˆ«åˆ†æ | 500-2000m | 12-15 |
| **high_res** | 1-10m | è¡—åŒºçº§åˆ«åˆ†æ | 50-200m | 16-18 |
| **ultra_high_res** | 0.3-1m | å»ºç­‘çº§åˆ«åˆ†æ | 10-50m | 19-21 |

### æ•°æ®æºæ”¯æŒ

#### è¶…é«˜åˆ†è¾¨ç‡æ•°æ®æº (ultra_high_resæ¨¡å¼)
- **WorldView-4** - 0.3-0.5måˆ†è¾¨ç‡ (å•†ä¸šæœ€é«˜ç²¾åº¦)
- **GeoEye-1** - 0.5måˆ†è¾¨ç‡ (å•†ä¸šé«˜ç²¾åº¦)
- **SkySat** - 0.5-1måˆ†è¾¨ç‡ (å•†ä¸šé«˜ç²¾åº¦)
- **NAIP** - 1måˆ†è¾¨ç‡ (ç¾å›½å¢ƒå†…å…è´¹æœ€é«˜ç²¾åº¦)
- **Sentinel-2** - 10måˆ†è¾¨ç‡ (å¤‡é€‰)

#### é«˜åˆ†è¾¨ç‡æ•°æ®æº (high_resæ¨¡å¼)
- **NAIP** - 1måˆ†è¾¨ç‡
- **PlanetScope** - 3-5måˆ†è¾¨ç‡
- **Sentinel-2** - 10måˆ†è¾¨ç‡
- **Landsat-8** - 30måˆ†è¾¨ç‡

#### æ ‡å‡†åˆ†è¾¨ç‡æ•°æ®æº (standardæ¨¡å¼)
- **Landsat-8** - 30måˆ†è¾¨ç‡
- **Sentinel-2** - 10måˆ†è¾¨ç‡

## ğŸ“¦ å®‰è£…

```bash
# å…‹éš†ä»£ç 
git clone <repository-url>
cd anysiteonearth-backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®Earth Engineè®¤è¯
earthengine authenticate
```

## ğŸ”§ åŸºæœ¬ä½¿ç”¨

### 1. è¶…é«˜åˆ†è¾¨ç‡æ¨¡å¼ (å»ºç­‘çº§åˆ«ç»†èŠ‚)

```python
from earth_engine_utils import get_san_francisco_tiles_and_images

# è¶…é«˜åˆ†è¾¨ç‡ - 25ç±³èŒƒå›´å†…çš„å»ºç­‘çº§åˆ«ç»†èŠ‚
result = get_san_francisco_tiles_and_images(
    lat=37.7749,                    # æ—§é‡‘å±±å¸‚ä¸­å¿ƒ
    lon=-122.4194,
    resolution_mode="ultra_high_res",  # äºšç±³çº§ç²¾åº¦
    buffer_size=25,                 # 25ç±³åŠå¾„ (çº¦åŠä¸ªè¡—åŒº)
    zoom_level=20,                  # å»ºç­‘çº§åˆ«ç¼©æ”¾
    save_json=True                  # è‡ªåŠ¨ä¿å­˜JSONæ•°æ®
)

print(f"æ•°æ®å·²ä¿å­˜åˆ°: {result['saved_to']}")
print(f"å¯ç”¨æ•°æ®é›†: {list(result['image_urls'].keys())}")

# æ˜¾ç¤ºåˆ†è¾¨ç‡è¯¦æƒ…
for dataset, meta in result['metadata'].items():
    print(f"{dataset}: {meta['resolution']} åˆ†è¾¨ç‡")
```

### 2. é«˜åˆ†è¾¨ç‡æ¨¡å¼ (è¡—åŒºçº§åˆ«)

```python
# é«˜åˆ†è¾¨ç‡ - 100ç±³èŒƒå›´å†…çš„è¡—åŒºçº§åˆ«åˆ†æ
result = get_san_francisco_tiles_and_images(
    lat=37.7749,
    lon=-122.4194,
    resolution_mode="high_res",     # 1-10ç±³åˆ†è¾¨ç‡
    buffer_size=100,                # 100ç±³åŠå¾„ (1-2ä¸ªè¡—åŒº)
    zoom_level=18
)
```

### 3. æ ‡å‡†åˆ†è¾¨ç‡æ¨¡å¼ (åŸå¸‚çº§åˆ«)

```python
# æ ‡å‡†åˆ†è¾¨ç‡ - 1å…¬é‡ŒèŒƒå›´å†…çš„åŸå¸‚çº§åˆ«åˆ†æ
result = get_san_francisco_tiles_and_images(
    lat=37.7749,
    lon=-122.4194,
    resolution_mode="standard",     # 10-30ç±³åˆ†è¾¨ç‡
    buffer_size=1000,               # 1å…¬é‡ŒåŠå¾„
    zoom_level=12
)
```

## ğŸ“Š JSONæ•°æ®è¾“å‡º

æ¯æ¬¡è¿è¡Œéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„JSONæ–‡ä»¶ï¼š

```json
{
  "timestamp": "2023-09-15T14:30:22.123456",
  "location": {
    "latitude": 37.7749,
    "longitude": -122.4194,
    "buffer_size_meters": 25
  },
  "configuration": {
    "resolution_mode": "ultra_high_res",
    "zoom_level": 20,
    "start_date": "2023-01-01",
    "end_date": "2023-12-31"
  },
  "tiles_info": {
    "zoom_level": 20,
    "tile_count": 16,
    "tiles": [...]
  },
  "image_urls": {
    "worldview": "https://earthengine.googleapis.com/...",
    "naip": "https://earthengine.googleapis.com/...",
    "sentinel": "https://earthengine.googleapis.com/..."
  },
  "metadata": {
    "worldview": {
      "resolution": "0.3-0.5m",
      "date": "2023-08-15",
      "cloud_cover": 2.1
    }
  }
}
```

## ğŸ¯ ç²¾åº¦å¯¹æ¯”ç¤ºä¾‹

è¿è¡Œæ¼”ç¤ºè„šæœ¬æŸ¥çœ‹ä¸åŒç²¾åº¦æ•ˆæœï¼š

```bash
# è¿è¡ŒåŸºæœ¬åŠŸèƒ½æ¼”ç¤º
python earth_engine_utils.py

# è¿è¡Œè¶…é«˜åˆ†è¾¨ç‡ä¸“é¡¹æ¼”ç¤º
python ultra_high_res_demo.py
```

### ç²¾åº¦å¯¹æ¯”ç»“æœç¤ºä¾‹

| æ¨¡å¼ | ç¼“å†²åŒº | å›¾ç‰‡å°ºå¯¸ | ç“¦ç‰‡æ•°é‡ | æœ€ä½³åˆ†è¾¨ç‡ |
|------|--------|----------|----------|------------|
| Standard | 1000m | 512px | 4 | 10m |
| High-Res | 100m | 1024px | 16 | 1m |
| Ultra-High-Res | 25m | 2048px | 64 | 0.3m |

## ğŸ—ï¸ å»ºæ¨¡åº”ç”¨åœºæ™¯

### è¶…é«˜åˆ†è¾¨ç‡æ¨¡å¼é€‚ç”¨äº:
- **å»ºç­‘ç‰©æ£€æµ‹**: å•ä½“å»ºç­‘è¯†åˆ«å’Œè½®å»“æå–
- **åŸå¸‚è§„åˆ’**: è¡—é“å¸ƒå±€å’Œå»ºç­‘å¯†åº¦åˆ†æ
- **åŸºç¡€è®¾æ–½ç›‘æ§**: é“è·¯ã€åœè½¦åœºã€ç»¿åœ°ç²¾ç¡®æµ‹é‡
- **æ¤è¢«åˆ†æ**: å•æ£µæ ‘æœ¨çº§åˆ«çš„æ¤è¢«è¦†ç›–
- **å˜åŒ–æ£€æµ‹**: å»ºç­‘ç‰©æ–°å»ºã€æ‹†é™¤ç›‘æ§
- **ç¾å®³è¯„ä¼°**: ç²¾ç¡®çš„æŸå®³èŒƒå›´è¯„ä¼°

### æŠ€æœ¯ä¼˜åŠ¿:
- **äºšç±³çº§ç²¾åº¦**: 0.3-0.5ç±³åˆ†è¾¨ç‡ï¼Œå¯è¯†åˆ«è½¦è¾†å¤§å°ç›®æ ‡
- **å¤šæ•°æ®æºèåˆ**: å•†ä¸š+å…è´¹æ•°æ®æºç»„åˆ
- **å®æ—¶æ•°æ®**: æ”¯æŒæœ€æ–°çš„å«æ˜Ÿå½±åƒæ•°æ®
- **è‡ªåŠ¨åŒ–å¤„ç†**: ä¸€é”®è·å–å¤šç§åˆ†è¾¨ç‡æ•°æ®
- **å®Œæ•´å…ƒæ•°æ®**: åŒ…å«é‡‡é›†æ—¶é—´ã€äº‘é‡ã€æ•°æ®æºç­‰ä¿¡æ¯

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ¨èå‚æ•°è®¾ç½®:

```python
# å»ºç­‘çº§åˆ«åˆ†æ (æœ€é«˜ç²¾åº¦)
ultra_high_params = {
    'resolution_mode': 'ultra_high_res',
    'buffer_size': 15,      # 15-25ç±³
    'zoom_level': 21,       # æœ€å¤§ç¼©æ”¾
    'dimensions': 2048      # 2Kå›¾ç‰‡
}

# è¡—åŒºçº§åˆ«åˆ†æ (å¹³è¡¡ç²¾åº¦å’Œæ•ˆç‡)
high_res_params = {
    'resolution_mode': 'high_res',
    'buffer_size': 50,      # 50-100ç±³
    'zoom_level': 18,
    'dimensions': 1024      # 1Kå›¾ç‰‡
}
```

## ğŸ” æ•°æ®æºè¯¦æƒ…

### WorldView-4 (0.3-0.5m)
- æœ€é«˜å•†ä¸šåˆ†è¾¨ç‡
- é€‚åˆ: ç²¾ç¡®å»ºç­‘ç‰©è½®å»“ã€åŸºç¡€è®¾æ–½ç»†èŠ‚
- è¦†ç›–: å…¨çƒä¸»è¦åŸå¸‚

### NAIP (1m) 
- ç¾å›½å¢ƒå†…å…è´¹æœ€é«˜åˆ†è¾¨ç‡
- é€‚åˆ: ç¾å›½åŸå¸‚çš„è¯¦ç»†åˆ†æ
- æ›´æ–°é¢‘ç‡: 2-3å¹´

### Sentinel-2 (10m)
- å…è´¹é«˜é¢‘æ›´æ–°
- é€‚åˆ: å¤§èŒƒå›´æ¤è¢«å’ŒåœŸåœ°åˆ©ç”¨
- æ›´æ–°é¢‘ç‡: 5å¤©

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **å•†ä¸šæ•°æ®æƒé™**: WorldViewã€GeoEyeç­‰éœ€è¦ç›¸åº”çš„Earth Engineæƒé™
2. **åŒºåŸŸé™åˆ¶**: NAIPä»…è¦†ç›–ç¾å›½å¢ƒå†…
3. **äº‘é‡ç­›é€‰**: è¶…é«˜åˆ†è¾¨ç‡æ¨¡å¼ä½¿ç”¨æ›´ä¸¥æ ¼çš„äº‘é‡é˜ˆå€¼(<5%)
4. **æ•°æ®å¤§å°**: è¶…é«˜åˆ†è¾¨ç‡å›¾ç‰‡æ–‡ä»¶è¾ƒå¤§ï¼Œæ³¨æ„å­˜å‚¨ç©ºé—´
5. **APIé…é¢**: é«˜é¢‘ç‡è¯·æ±‚å¯èƒ½è§¦åŠEarth Engineä½¿ç”¨é™é¢

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€è¦æ›´é«˜ç²¾åº¦æˆ–ç‰¹å®šåŒºåŸŸçš„æ•°æ®æ”¯æŒï¼Œå¯ä»¥è€ƒè™‘:
- æ— äººæœºèˆªæ‹æ•°æ® (å˜ç±³çº§ç²¾åº¦)
- æ¿€å…‰é›·è¾¾æ•°æ® (3Dç‚¹äº‘)
- ç‰¹å®šåŒºåŸŸçš„é«˜åˆ†è¾¨ç‡èˆªç©ºå½±åƒ

---

**è¿™æ˜¯ç›®å‰é€šè¿‡Google Earth Engineå¯ä»¥è¾¾åˆ°çš„æœ€é«˜ç²¾åº¦ (0.3-0.5ç±³åˆ†è¾¨ç‡)ï¼Œè¶³ä»¥è¿›è¡Œå»ºç­‘çº§åˆ«çš„è¯¦ç»†åˆ†æå’Œå»ºæ¨¡ã€‚**